<div class="surface p-4 rounded-3 shadow-sm">
  <h2 class="mb-4"><i class="bi bi-box-seam"></i> Vender producto</h2>

  <form #f="ngForm" (ngSubmit)="submit(f)" novalidate>
    <div class="row g-3">
      <!-- Nombre -->
      <div class="col-md-6">
        <label class="form-label">Nombre</label>
        <input type="text" class="form-control" name="name" [(ngModel)]="product.name" required />
      </div>

      <!-- Categoría -->
      <div class="col-md-6">
        <label class="form-label">Categoría</label>
        <select class="form-select" name="category" [(ngModel)]="product.category">
          <option value="TECHNOLOGY">Tecnología</option>
          <option value="HOME">Hogar</option>
          <option value="ACADEMIC">Académico</option>
          <option value="PERSONAL">Personal</option>
          <option value="DECORATION">Decoración</option>
          <option value="OTHER">Otro</option>
        </select>
      </div>

      <!-- Descripción -->
      <div class="col-12">
        <label class="form-label">Descripción</label>
        <textarea class="form-control" rows="3" name="description" [(ngModel)]="product.description" required></textarea>
      </div>

      <!-- Precio -->
      <div class="col-md-4">
        <label class="form-label">Precio (GTQ)</label>
        <input type="number" class="form-control" name="price" [(ngModel)]="product.price" required min="1" />
      </div>

      <!-- Stock -->
      <div class="col-md-4">
        <label class="form-label">Stock</label>
        <input type="number" class="form-control" name="stock" [(ngModel)]="product.stock" required min="1" />
      </div>

      <!-- Estado -->
      <div class="col-md-4">
        <label class="form-label">Estado</label>
        <select class="form-select" name="condition" [(ngModel)]="product.condition">
          <option value="NEW">Nuevo</option>
          <option value="USED">Usado</option>
        </select>
      </div>

      <!-- Imagen -->
      <div class="col-12">
        <label class="form-label">Imagen del producto</label>
        <input type="file" accept="image/*" class="form-control" (change)="onImageSelected($event)" />
      </div>

      <!-- Vista previa -->
      <div class="col-12" *ngIf="previewUrl">
        <div class="text-center mt-3">
          <img [src]="previewUrl" class="img-thumbnail" style="max-height: 200px;" alt="Vista previa" />
        </div>
      </div>

      <!-- Botón -->
      <div class="col-12">
        <button class="btn btn-primary" [disabled]="loading || !f.form.valid">
          <i class="bi bi-upload me-2"></i> {{ loading ? 'Enviando...' : 'Publicar producto' }}
        </button>
      </div>
    </div>

    <!-- Mensaje -->
    <div class="mt-3 fw-semibold text-success" *ngIf="message">{{ message }}</div>
  </form>
</div>
